\documentclass{report}
\usepackage{fontspec}
\usepackage{polyglossia}
\setdefaultlanguage{french}
\usepackage[a4paper,margin=2cm]{geometry}

\usepackage{amsmath}
\usepackage{array}
\usepackage{auto-pst-pdf}
\usepackage{booktabs}
\usepackage{cite}
\usepackage{graphicx}
\usepackage{lmodern}
\usepackage{marvosym}
\usepackage{mathrsfs}
\usepackage{minted}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{paralist}
\usepackage{schemabloc}
\usepackage{siunitx}
\usepackage{soul}
\usepackage{tikz}
\usepackage[european,cuteinductors,siunitx]{circuitikz}
\usepackage{url,hyperref}
\usepackage{verbatim}
\usepackage{xunicode,xltxtra}
\usepackage{fancyhdr}

\title{\includegraphics{../../../../../images/inp-enseeiht} \\ ~ \\ ~ \\ ~ \\ ~ \\ Rapport de BÉPO}
\author{Guilhem Saurel}
\date{\oldstylenums{\today}}

\renewcommand{\thesection}{\Roman{section}}

\pagestyle{fancy}
\lfoot{Guilhem \textsc{Saurel} − Rapport de BÉPO}

\begin{document}

\begin{titlepage}
    \setcounter{page}{0}
    \maketitle
    \thispagestyle{empty}
\end{titlepage}

\tableofcontents
\newpage



\chapter*{Préambule}
\addcontentsline{toc}{chapter}{Préambule}
\section{BÉPO}
Ceci est mon rapport du Bureau d’Étude de Programation oriente Objet. Il se trouve qu’en en prenant
l’acronyme, on tombe sur BÉPO ; je saute donc sur l’occasion pour glisser un petit lien : \url{http://bepo.fr}
(vous n’êtes certainement pas sans savoir que l’AZERTY a été conçu pour éviter que les marteaux de 
machine à écrire ne s’entrechoquent… Il est peut être temps d’envisager autre chose). Donc voilà, si,
par hasard, il vous arrive de vous servir d’un clavier, je vous le recommande.

\section{Logiciels utilisés}
Pour la réalisation de ce BÉ et la création de ce rapport, voici une liste non-exhaustives des 
logiciels qui m’ont été les plus utiles:
\begin{description}
    \item[Vim] un éditeur de texte: \url{http://www.vim.org};
    \item[GCC] un compilateur C++: \url{http://gcc.gnu.org};
    \item[git] un gestionnaire de versions: \url{http://git-scm.com/};
    \item[CMake] un moteur de production: \url{http://cmake.org};
    \item[\LaTeX] un logiciel de composition de documents: \url{http://latex-project.org};
    \item[Umbrello] un logiciel de modélisation UML: \url{http://uml.sourceforge.net/};
    \item[GNU Octave] un logiciel de calcul numérique: \url{http://gnu.org/software/octave/};
    \item[ImageMagick] un logiciel de traitement d’images: \url{http://imagemagick.org/script/index.php};
    \item[Bash] un interpréteur de commandes: \url{http://tiswww.case.edu/php/chet/bash/bashtop.html};
\end{description}

\section{UML \& Umbrello}
Umbrello, le logiciel utilisé pour génerer les images présentes dans les différentes sections «UML», utilise
les conventions suivantes:
\begin{itemize}
    \item Trois «cases»: le nom de la classe, les attributs, puis les méthodes;
    \item Les attributs et méthodes «protected» apparaissent avec un «\#», tandis que les «public» utilisent un «+»;
    \item Les variable sont affichées de la manière suivante: «<nom de la variable>: <type de la variable> [<paramètres>]»;
    \item Certaines données ne sont pas affichées, telles que:
        \begin{itemize}
            \item le mot-clef \verb|const|;
            \item le mot-clef \verb|virtual|;
            \item le type \verb|void|;
        \end{itemize}
\end{itemize}

\section{Sources annexes}
Les codes sources du Bureau d’Étude sont naturellement présentes en annexe, mais pour le reste des documents,
tout est disponible sur Github: \url{http://github.com/nim65s/N7/tree/master/be/POO_2A/circuit}, et
notamment le script qui sert à tout (rapport/go.sh).

\chapter{Sources}
    \begin{multicols}{2}
        \section{UML}
            \includegraphics[width=\linewidth+\linewidth,angle=90]{images/sources_large}

        \section{Commentaires}
            Ce diagramme UML correspond au fichier «\verb|source.h|».

            La principale difficulté dans ce fichier aura été le «diamant», puisqu’«Impulsion\_periodique» hérite
            d’«Impulsion» et de la classe abstraite «Periodique», ce qui complique un peu les constructeurs.

    \end{multicols}

\chapter{Runge-Kutta}
    \section{UML}
        \includegraphics{images/runge_kutta_alone}

    \section{Commentaires}
        Ce diagramme UML correspond au fichier «\verb|runge_kutta.h|».

\chapter{Premier ordre}
    \begin{multicols}{2}
        \section{UML}
            \includegraphics[width=\linewidth+\linewidth,angle=90]{images/ordre_un}

        \section{Commentaires}
            Ce diagramme UML correspond au fichier «\verb|ordre_un.h|».

            La classe «ordre\_un» hérite évidemment de la classe «runge\_kutta», vue dans le chapitre précédent.
    \end{multicols}

\chapter{Second ordre}
    \begin{multicols}{2}
        \section{UML}
            \includegraphics[width=\linewidth+\linewidth,angle=90]{images/ordre_deux}

        \section{Commentaires}
            Ce diagramme UML correspond au fichier «\verb|ordre_deux.h|».

            La classe «ordre\_deux» hérite évidemment de la classe «runge\_kutta», vue précédement.
    \end{multicols}

\chapter{Bonus}
Pour aller un peu plus loin, je me suis permis d’implémenter une source sinusoïdale, qui n’était pas demandée
mais présente dans les différents exemples.

Aussi, la classe \verb|runge_kutta| était initiallement appelée \verb|euler|, vu qu’il s’agit du nom de la
méthode de résolution numérique des équations différentielles. Mais on peut assimiler la méthode d’Euler à
une méthode de Runge-Kutta d’ordre 1, donc autant ajouter un paramètre \verb|ordre| pour visualiser son effet.

Ces résultats en bonus ne sont pas compris dans l’Annexe \ref{resultats} (p.\pageref{resultats}), mais il 
suffirait d’ajouter des tests dans le fichier \verb|main.cpp|.



\appendix
\chapter{Code source}
\section{Sources}
\subsection{source.h}
\inputminted[linenos,fontsize=\scriptsize]{c++}{../src/source.h}
\subsection{source.cpp}
\inputminted[linenos,fontsize=\scriptsize]{c++}{../src/source.cpp}

\section{Runge-Kutta}
\subsection{runge\_kutta.h}
\inputminted[linenos,fontsize=\scriptsize]{c++}{../src/runge_kutta.h}
\subsection{runge\_kutta.cpp}
\inputminted[linenos,fontsize=\scriptsize]{c++}{../src/runge_kutta.cpp}

\section{Premier ordre}
\subsection{ordre\_un.h}
\inputminted[linenos,fontsize=\scriptsize]{c++}{../src/source.h}
\subsection{ordre\_un.cpp}
\inputminted[linenos,fontsize=\scriptsize]{c++}{../src/source.cpp}

\section{Second ordre}
\subsection{ordre\_deux.h}
\inputminted[linenos,fontsize=\scriptsize]{c++}{../src/source.h}
\subsection{ordre\_deux.cpp}
\inputminted[linenos,fontsize=\scriptsize]{c++}{../src/source.cpp}

\section{Fichier principal}
\subsection{main.cpp}
\inputminted[linenos,fontsize=\scriptsize]{c++}{../src/main.cpp}


\chapter{Résultats}
\label{resultats}
NB: La suite de cette annexe est générée par le programme C++: les methodes \verb|affiche()| génèrent
un fichier \verb|genere.tex| et un fichier \verb|genere.m|, qui sont ensuite affichés ici.
\input{genere}


\end{document}

