#include <iostream>

using namespace std;

float squareroot(float n, int lim, bool debug) {{{
    float r=n,s=n;
    int i=0;
    if (debug) cout << "DEBUG - Calcul de la racine carrée de '" << n << "'." << endl;
    while (i<lim || (lim<0 && i!=lim)){ // TODO : réfléchir à cette boucle
        if (debug) cout << "DEBUG - \t i='" << i << "', r='" << r << "'." << endl;
        r = (r+n/r)/2;
        if (lim>0) 
            i++;
        else
            if (s-r<pow(10,-6)) i=lim;
        s=r;
    }
    return r;
}}}

float squareroot(float n, int lim) {{{
    return squareroot(n, lim, false);
}}}

float squareroot(float n) {{{
    return squareroot(n, -1, false);
}}}


//vim:set foldmethod=marker:
